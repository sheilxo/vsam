
# VSAM Macros Simulation

## Overview

This setup demonstrates the behavior of 3 IBM-specific VSAM (Virtual Storage Access Method) macros using Python scripts. It’s meant to help understand how VSAM macros work, especially if a user doesn’t have access to a specific IBM mainframe environment. Specifically this is to demonstrate the processing of a VSAM file and the preparation of data for ingestion by converting data into JSON.

### Key Points:
- **This is a simulation**: These Python scripts mimic what IBM VSAM macros do but don’t run on an actual mainframe.
- **Purpose**: To give you a basic understanding of VSAM operations in a non-mainframe environment.

## Files

```
vsam_simulated.txt         # Simulated VSAM data file
vsam_macros.py             # Python script to simulate VSAM macros
convert_to_json.py         # Python script to convert simulated VSAM data to JSON
vsam_data.json             # Output JSON file (generated by convert_to_json.py)
```

### What Each File Does:
1. **`vsam_simulated.txt`**:
   - Contains simulated VSAM data. Created and filled by the `vsam_macros.py` script.

2. **`vsam_macros.py`**:
   - Simulates three key VSAM macros:
     - **DEFINE CLUSTER**: Creates and fills `vsam_simulated.txt`.
     - **REPRO**: Copies data from `vsam_simulated.txt` to `vsam_copy.txt`.
     - **PRINT**: Outputs the contents of `vsam_simulated.txt` to the console.

3. **`convert_to_json.py`**:
   - Converts `vsam_simulated.txt` data to JSON format and saves it as `vsam_data.json`.

4. **`vsam_data.json`**:
   - Contains the JSON version of the simulated VSAM data. Generated by the `convert_to_json.py` script.

## Simulated VSAM Macros

Here’s what the simulated macros represent:

1. **DEFINE CLUSTER**:
   - **Simulates**: Defining a new VSAM dataset with specific structure and data.

2. **REPRO**:
   - **Simulates**: Copying data between datasets.

3. **PRINT**:
   - **Simulates**: Displaying the contents of a dataset.

## How to Run

### Prerequisites:
- **Python**: You need Python installed on your system.

### Steps:

1. **Run the VSAM Macros Simulation**:
   - Open your command prompt or terminal.
   - Navigate to the folder with your files:
     ```bash
     cd path/to/your/files
     ```
   - Run the script:
     ```bash
     python vsam_macros.py
     ```
   - This script will create `vsam_simulated.txt`, copy its contents to `vsam_copy.txt`, and print the data.

2. **Convert the Data to JSON**:
   - Run the conversion script:
     ```bash
     python convert_to_json.py
     ```
   - This will create the `vsam_data.json` file with the JSON format of your simulated data.

### Quick Commands:
```bash
cd path/to/your/files
python vsam_macros.py
python convert_to_json.py
```
